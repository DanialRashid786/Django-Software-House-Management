{% extends 'baseadmin.html' %} {% load static %} {% block content %}
<title>Services details</title>

<main id="main" class="main">
  <div class="container">
    <div class="pagetitle">
      <h1>Services</h1>
      <nav>
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a href="{% url 'dashboard' %}">Home</a></li>
          <li class="breadcrumb-item"><a href="{% url 'service' %}">Services</a></li>
          <li class="breadcrumb-item active">Servicedetails</li>
        
        </ol>
      </nav>
    </div><!-- End Page Title -->
{% comment %} ///////display message//////////////// {% endcomment %}
{% if messages %}
<div class="messages">
{% for message in messages %}
<li style="list-style: none;">
  <div class="alert alert-success d-flex align-items-center" role="alert">
    <svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img" aria-label="Success:"><use xlink:href="#check-circle-fill"/></svg>
    <div>
      <b>{{message}}</b>
    </div>
  </div>
</li>
{% endfor %}
</div>
{% endif %}  

{% comment %}////////display message end  /////////////{% endcomment %}
    <section class="section">
      <div class="row">
        
  
        <div class="col-lg-12">
  
          <div class="card">
            <div class="card-body">
           
 
                <div class="table-responsive">
                  <table class="table table-striped">
                   <thead class="text-center">
                     <tr>
                      <th scope="col">Name</th>
                      <th scope="col">Service_Description</th>
                      <th scope="col">Image</th>
                      <th scope="col">Sited_Services_Title</th>
                      <th scope="col">Sited_Services</th>
                      <th scope="col">Image</th>
                      <th scope="col">Update</th>
                     </tr>
                   </thead>
                   <tbody>
                  {% if obj %}
                  
                    
                    {% for i in obj %} 
                    <tr>

                      <td>{{i.service_title|safe}}</td>
                    
                
                     
                      <td>
                        <div class="service-description">
                          <div class="short-text">{{ i.servicedetail_desc |safe|truncatechars:100 }}</div>
                          <div class="full-text" style="display: none;">{{ i.servicedetail_desc |safe }}</div>
                        
                          <a href="#" class="read-more-link">Read More</a>
                        </div>
                      </td>


                      

                      <td style="width: 10%; text-align: center;">

                      {% if i.image_desc.url %}
                     
                      <a href="/media/{{i.image_desc}}">  <img src="{{i.image_desc.url}}" alt="image" class="prod-size d-block mx-auto" style="width: 70px; height: 70px;"> 
                          </a> </td>
                        
                      {% else %}
                      <p>No image</p>
                      {% endif %} 
                         
                      <td>{{i.Sited_Services_title |safe}}</td>

                      <td>
                        <div class="service-content">
                          <div class="short-text">{{ i.SitedServices|safe|truncatechars:100 }}</div>
                          <div class="full-text" style="display: none;">{{ i.SitedServices|safe }}</div>
                        
                          <a href="#" class="read-more-link">Read More</a>
                        </div>
                      </td>

                      <td style="width: 10%;text-align: center;">

                      {% if i.image_Sited_Services.url %}
                      
                      <a href="/media/{{i.image_Sited_Services}}">
                        <img src="{{i.image_Sited_Services.url}}" alt="image" class="prod-size d-block mx-auto" style="width: 70px; height: 70px;"> 

                        </a>
                      
                      {% else %}
                        <p>No image Found</p>
                      {% endif %}

                      </td>

                      <td> <a href="{% url 'servicedetailupdate' i.id %}"> <button type="button" class="btn btn-success">Update</button></a></td>
                    </tr>
                  {% endfor %} 

                  {% else %}
                  <td>No Detail Found</td>
                  {% endif %}
                   </tbody>
                  </table>


                  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<script>
  $(document).ready(function () {
    // Handle "Read More" clicks
    $('.read-more-link').on('click', function (e) {
      e.preventDefault();
      $(this).closest('.service-content').find('.short-text, .full-text').toggle();
    });

    $('.read-more-link').on('click', function (e) {
      e.preventDefault();
      $(this).closest('.service-description').find('.short-text, .full-text').toggle();
    });
  });
</script>

<style>
  .service-content .text-container {
    overflow: hidden;
    max-height: 60px; /* Adjust to control the height of the short text */
    transition: max-height 0.3s ease;
  }
  
  .service-content .full-text {
    max-height: none;
  }
  
  .read-more-link {
    display: block;
    text-align:center;
    margin-top: 5px;
    color: #007bff; /* Adjust to match your link color */
    text-decoration: none;
    font-weight: bold;
    cursor: pointer;
  }
  
  /* Style for the link on hover */
  .read-more-link:hover {
    text-decoration: underline;
  }
  
</style>




                </div>
    
              </div>
            </div>
    
            
    
          </div>
        </div>
      </section>
    
</div>


  </main><!-- End #main -->



  
  


{% endblock %}